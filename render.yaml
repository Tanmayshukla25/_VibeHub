services:
  # Backend API Service
  # - type: web
  #   name: vibehub-backend
  #   env: node
  #   plan: free
  #   region: singapore
  #   rootDir: Backend
  #   buildCommand: npm install
  #   startCommand: node index.js
  #   envVars:
  #     - key: NODE_ENV
  #       value: production
  #     - key: PORT
  #       value: 8080
  #     - key: MONGO_URI
  #       sync: false
  #     - key: JWT_SECRET
  #       sync: false
  #     - key: CLOUDINARY_CLOUD_NAME
  #       sync: false
  #     - key: CLOUDINARY_API_KEY
  #       sync: false
  #     - key: CLOUDINARY_API_SECRET
  #       sync: false
  #     - key: FRONTEND_HOST
  #       fromService:
  #         name: vibehub-frontend
  #         type: web
  #         property: host

  # Frontend Static Site
  - type: web
    name: vibehub-frontend
    env: static
    plan: free
    rootDir: Frontend
    buildCommand: npm install && npm run build
    staticPublishPath: dist
    envVars:
      - key: VITE_API_URL
        fromService:
          name: vibehub-backend
          type: web
          property: host
    headers:
      - path: /*
        name: X-Frame-Options
        value: DENY
      - path: /*
        name: X-XSS-Protection
        value: 1; mode=block
